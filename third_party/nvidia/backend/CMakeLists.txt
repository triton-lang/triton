include_directories(${CMAKE_CURRENT_SOURCE_DIR}/include)
include_directories(${CMAKE_CURRENT_BINARY_DIR}/include)
find_library(CUDA_DRIVER_LIB_PATH NAMES cuda)
if(TRITON_BUILD_PYTHON_MODULE)
	if (CUDA_DRIVER_LIB_PATH)
		add_triton_plugin(TritonCudaUtils ${CMAKE_CURRENT_SOURCE_DIR}/cuda_utils.cc)
		target_link_libraries(TritonCudaUtils PRIVATE Python3::Module pybind11::headers cuda)
	else()
		add_triton_plugin(TritonCudaUtils ${CMAKE_CURRENT_SOURCE_DIR}/cuda_utils_stub.cc)
		target_link_libraries(TritonCudaUtils PRIVATE Python3::Module pybind11::headers)
	endif()
endif()
